# CR-004: Add Course Management API with CRUD Operations

**Date:** December 28, 2025  
**Submitted By:** Haymanot Aweke  
**Priority:** Medium  
**Status:** Approved  

---

## 1. Description of Change

### What needs to be changed?
Implement a complete Course Management API in the Laravel backend with full CRUD (Create, Read, Update, Delete) operations. This includes:
- Creating the `courses` table in MySQL
- Creating a `Course` model with relationships
- Implementing a `CourseController` with RESTful endpoints
- Adding API routes for course management  

Courses should be linked to students through a many-to-many relationship.

### Why is this change needed?
Course management is essential for a complete student information system. Administrators need to create courses, assign them to students, and track enrollments. Without course management, the system cannot fulfill its core purpose of managing academic information.  

The many-to-many relationship allows:
- Students to enroll in multiple courses
- Courses to have multiple students

---

## 2. Impact Analysis

### Affected Files
- `src/backend/app/Models/Course.php` (new file)
- `src/backend/app/Http/Controllers/CourseController.php` (new file)
- `src/backend/database/migrations/2025_12_28_create_courses_table.php` (new file)
- `src/backend/database/migrations/2025_12_28_create_course_student_table.php` (new file)
- `src/backend/routes/api.php` (v1.1 → v1.2)
- `src/backend/app/Models/Student.php` (v1.0 → v1.1 – add relationship)
- `docs/CI_register.md` (updated)

**Estimated Time:** 5 hours  
**Risk Level:** Low  

---

## 3. Implementation Plan

### Steps
1. Create courses table migration (`code`, `name`, `credits`, `instructor`)
2. Create pivot table migration for `course_student` relationship
3. Create `Course` model with `students()` relationship method
4. Update `Student` model with `courses()` relationship method
5. Create `CourseController` with `index`, `store`, `show`, `update`, and `destroy` methods
6. Add API routes for course endpoints with authentication middleware
7. Add request validation for course creation and update
8. Test all CRUD operations using Postman
9. Update API documentation with new endpoints

**Assigned To:** Haymanot Aweke  
**Target Date:** December 29, 2025  

---

## 4. Approval

**Configuration Controller:** Biniyam Feyissa  
**Date:** December 28, 2025  
**Decision:** ✓ Approved  

**SCM Manager:** Fisseha Akele  
**Date:** December 28, 2025  
**Decision:** ✓ Approved  

---

## 5. Implementation Record

**Branch Used:** `feature/course-management-api`

### Commits
- `y8z9a0b` – Create courses table migration
- `c1d2e3f` – Create `course_student` pivot table migration
- `g4h5i6j` – Create `Course` model with relationships
- `k7l8m9n` – Update `Student` model with courses relationship
- `o0p1q2r` – Implement `CourseController` with CRUD methods
- `s3t4u5v` – Add API routes with authentication middleware

**Pull Request:** #4  
**Merged Date:** December 29, 2025  

---

## Verification

- ✓ Code Review: Completed by Biruk Lemma  
- ✓ Testing: Passed  
- ✓ Documentation: Updated  

### Test Results
- ✓ Create course endpoint works correctly  
- ✓ Get all courses returns paginated results  
- ✓ Get single course by ID works  
- ✓ Update course endpoint modifies data  
- ✓ Delete course endpoint removes record  
- ✓ Many-to-many relationship functions properly  
- ✓ Validation rejects invalid course data  

**Status:** Implemented / Closed  
**Completion Date:** December 29, 2025
